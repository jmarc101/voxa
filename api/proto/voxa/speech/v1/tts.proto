syntax = "proto3";

package voxa.speech.v1;

import "voxa/speech/v1/audio.proto";

option go_package = "github.com/jmarc101/voxa/api/gen/voxa/speech/v1;speechv1";
option java_package = "com.voxa.speech.v1";
option java_multiple_files = true;
option java_outer_classname = "TtsProto";

// Text-to-speech service.
// Assumptions: PCM16, mono, fixed sample rate known out of band.
service Tts {
  // Synthesize: stream audio chunks as soon as they are synthesized.
  rpc Synthesize(SynthesisRequest) returns (stream AudioChunk);
  // SynthesizeUnary: returns the whole audio buffer.
  rpc SynthesizeUnary(SynthesisRequest) returns (AudioData);
}

// SynthesisRequest is a request to synthesize text.
message SynthesisRequest {
  // Utterance ID for correlating logs/playback.
  string utterance_id = 1;
  // Text to synthesize (plain text for PoC; SSML/voice params can be added later).
  string text = 2;
}

